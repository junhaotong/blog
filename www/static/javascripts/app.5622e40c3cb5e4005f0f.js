webpackJsonp([1],{128:function(e,t){},129:function(e,t){},130:function(e,t){},131:function(e,t){},132:function(e,t){},140:function(e,t,r){function n(e){r(131)}var a=r(11)(r(74),r(147),n,"data-v-bfd528fa",null);e.exports=a.exports},141:function(e,t,r){function n(e){r(132)}var a=r(11)(r(75),r(148),n,null,null);e.exports=a.exports},142:function(e,t,r){function n(e){r(130)}var a=r(11)(r(76),r(146),n,null,null);e.exports=a.exports},143:function(e,t,r){function n(e){r(128)}var a=r(11)(r(77),r(144),n,null,null);e.exports=a.exports},144:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("Table",{staticClass:"user-list",attrs:{border:"",columns:e.columns,data:e.data}})},staticRenderFns:[]}},145:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("router-view")},staticRenderFns:[]}},146:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",[r("i-col",{attrs:{span:"12"}},[r("Form",{ref:"UserForm",attrs:{model:e.UserForm,rules:e.rules,"label-width":100}},[r("Form-item",{attrs:{label:"用户头像"}},[r("Upload",{attrs:{action:"/api/upload/image",name:"image","show-upload-list":!1,"on-success":e.uploadSuccess}},[r("div",{staticClass:"upload"},[e.UserForm.avatar?r("img",{attrs:{src:"/"+e.UserForm.avatar,alt:""}}):[r("Icon",{attrs:{type:"ios-cloud-upload-outline"}}),e._v("\n                            上传头像\n\n                        ")]],2)])],1),e._v(" "),r("Form-item",{attrs:{label:"用户名",prop:"username"}},[r("Input",{staticClass:"middle-input",attrs:{placeholder:"请输入用户名"},model:{value:e.UserForm.username,callback:function(t){e.UserForm.username=t},expression:"UserForm.username"}})],1),e._v(" "),r("Form-item",{attrs:{label:"邮箱",prop:"email"}},[r("Input",{staticClass:"middle-input",attrs:{placeholder:"请输入邮箱"},model:{value:e.UserForm.email,callback:function(t){e.UserForm.email=t},expression:"UserForm.email"}})],1),e._v(" "),r("Form-item",{attrs:{label:"密码",prop:"pwd"}},[r("Input",{staticClass:"middle-input",attrs:{type:"password",placeholder:"请输入用户密码"},model:{value:e.UserForm.pwd,callback:function(t){e.UserForm.pwd=t},expression:"UserForm.pwd"}})],1),e._v(" "),r("Form-item",{attrs:{label:"再次输入密码",prop:"re_pwd",required:!0}},[r("Input",{staticClass:"middle-input",attrs:{type:"password",placeholder:"再次输入密码"},model:{value:e.UserForm.re_pwd,callback:function(t){e.UserForm.re_pwd=t},expression:"UserForm.re_pwd"}})],1),e._v(" "),r("Form-item",{attrs:{label:"用户类型"}},[r("span",[e._v("普通用户")])]),e._v(" "),r("Form-item",[r("Button",{attrs:{type:"primary"},on:{click:e.regist}},[e._v("确认注册")])],1)],1)],1)],1)},staticRenderFns:[]}},147:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{staticClass:"layout",attrs:{type:"flex"}},[r("div",{staticClass:"menu-left"},[r("div",{staticClass:"logo"},[e._v("Jeremy")]),e._v(" "),r("Menu",{attrs:{theme:"dark",width:"auto","active-name":e.$route.path,"open-names":[e.$route.matched[0].path]},on:{"on-select":e.changeLeftMenu}},e._l(e.$router.options.routes,function(t,n){return t.hidden?e._e():r("Submenu",{key:t.path,attrs:{name:t.path}},[r("template",{slot:"title"},[r("Icon",{staticClass:"menu-icon",attrs:{type:t.icon}}),e._v(" "),r("span",{staticClass:"menu-text"},[e._v(e._s(t.name))])],1),e._v(" "),e._l(t.children,function(n){return n.hidden?e._e():r("Menu-item",{key:n.path,attrs:{name:t.path+"/"+n.path}},[r("Icon",{staticClass:"menu-icon",attrs:{type:n.icon}}),e._v(" "),r("span",{staticClass:"menu-text"},[e._v(e._s(n.name))])],1)})],2)}))],1),e._v(" "),r("div",{staticClass:"content-right"},[r("div",{staticClass:"layout-ceiling"},[r("a",{staticClass:"cailing-item",attrs:{href:"javascript:void(0)"}},[e._v("管理后台")]),e._v(" "),r("Dropdown",{staticClass:"cailing-item pull-right",attrs:{trigger:"click"}},[r("a",{attrs:{href:"javascript:void(0)"}},[e._v("\n                    "+e._s(e.$store.state.userinfo.userinfo.username)+"\n                    "),r("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),r("Dropdown-menu",{slot:"list"},[r("Dropdown-item",[r("span",{on:{click:e.logout}},[e._v("退出登录")])])],1)],1)],1),e._v(" "),r("div",{staticClass:"main"},[r("Breadcrumb",{staticClass:"bread"},[r("Breadcrumb-item",{attrs:{href:"/"}},[e._v("首页")]),e._v(" "),e.$route.matched[0]?r("Breadcrumb-item",{attrs:{href:e.$route.matched[0].path}},[e._v(e._s(e.$route.matched[0].name))]):e._e(),e._v(" "),e.$route.matched[1]?r("Breadcrumb-item",[e._v(e._s(e.$route.matched[1].name))]):e._e()],1),e._v(" "),r("div",{staticClass:"content"},[r("router-view")],1)],1)])])},staticRenderFns:[]}},148:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{staticClass:"login-wrapper"},[r("div",{attrs:{id:"login"}}),e._v(" "),r("div",{staticClass:"login-dialog"},[r("div",{staticClass:"title"},[e._v("登录")]),e._v(" "),r("Form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules}},[r("Form-item",{attrs:{prop:"username",error:e.usernameError}},[r("Input",{staticClass:"input",attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.loginForm.username=t},expression:"loginForm.username"}})],1),e._v(" "),r("Form-item",{attrs:{prop:"password",error:e.pwdError}},[r("Input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.loginForm.password=t},expression:"loginForm.password"}})],1),e._v(" "),r("Button",{staticClass:"btn-login",on:{click:e.login}},[e._v("登录")])],1)],1)])},staticRenderFns:[]}},153:function(e,t){e.exports={particles:{number:{value:50,density:{enable:!1,value_area:10}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.2,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:10,random:!0,anim:{enable:!1,speed:80,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:220,color:"#fff",opacity:.4,width:2},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:800,line_linked:{opacity:1}},bubble:{distance:800,size:80,duration:2,opacity:.8,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}},33:function(e,t,r){"use strict";var n=r(79),a=r(78);t.a={Login:n.a,Content:a.a}},50:function(e,t,r){"use strict";var n=r(7),a=r(149),s=r(33),o=r(86);n.default.use(a.a),t.a=new a.a({routes:[{path:"/",redirect:"/user",hidden:!0,component:function(e){e(s.a.Content)}},{path:"/login",hidden:!0,component:function(e){e(s.a.Login)}}].concat(o.a)})},51:function(e,t,r){"use strict";var n=r(7),a=r(151),s=r(87);n.default.use(a.a),t.a=new a.a.Store({modules:{userinfo:s.a}})},52:function(e,t,r){"use strict";var n=r(7),a=r(27),s=r.n(a),o=r(139),i=r.n(o),u=r(26),c=r.n(u),l=r(136),d=r.n(l),m=r(25),p=r.n(m);n.default.use(i.a,s.a),s.a.defaults.baseURL="/api";var f=p.a.getJSON("userinfo")||{};f.token&&(s.a.defaults.headers.common.Authorization=f.token),s.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",s.a.defaults.transformRequest=function(e){return c.a.start(),d.a.stringify(e)},s.a.defaults.transformResponse=function(e){return c.a.done(),e=JSON.parse(e),3e3===e.code&&(window.vm.$Message.error(e.msg),window.vm.$store.dispatch("logout"),window.vm.$router.push("/login")),e}},53:function(e,t){},55:function(e,t,r){function n(e){r(129)}var a=r(11)(r(73),r(145),n,null,null);e.exports=a.exports},73:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},74:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),a=r.n(n);t.default={name:"content",data:function(){return{}},methods:{logout:function(){var e=this;this.$store.dispatch("logout").then(function(){a.a.remove("userinfo"),e.$router.push("/login")})},changeLeftMenu:function(e){this.$router.push(e)}}}},75:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(134),a=(r.n(n),r(153)),s=r.n(a);t.default={name:"AdminLogin",data:function(){return{loginForm:{username:"",password:"",user_type:2},loginRules:{username:{required:!0,message:"用户名不能为空",trigger:"blur"},password:{required:!0,message:"密码不能为空",trigger:"blur"}},usernameError:"",pwdError:""}},methods:{login:function(){var e=this;this.pwdError="",this.usernameError="",this.$refs.loginForm.validate(function(t){t&&e.axios.post("/admin/login",e.loginForm).then(function(t){0===t.data.code?(e.$Message.success(t.data.msg),e.$store.dispatch("update_userinfo"),e.$router.push("/")):2001===t.data.code?e.pwdError=t.data.msg:e.usernameError=t.data.msg})})}},mounted:function(){console.log(s.a),particlesJS("login",s.a)}}},76:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"UserAdd",data:function(){var e=this;return{UserForm:{avatar:"",username:"",email:"",pwd:"",re_pwd:""},rules:{username:{required:!0,message:"用户名不能为空",trigger:"blur"},email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],pwd:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,max:20,message:"密码应为6-20位",trigger:"blur"}],re_pwd:{validator:function(t,r,n){""===r?n(new Error("请再次输入密码")):r!==e.UserForm.pwd?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}}}},methods:{uploadSuccess:function(e,t,r){0===e.code?this.UserForm.avatar=e.data.avatar:this.$Message.error(e.msg)},regist:function(){var e=this;this.$refs.UserForm.validate(function(t){t&&e.axios.post("/regist",e.UserForm).then(function(t){0===t.data.code?e.$Message.success(t.data.msg):e.$Message.error(t.data.msg)})})}}}},77:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81);t.default=n.a},78:function(e,t,r){"use strict";var n=r(140),a=r.n(n);t.a=a.a},79:function(e,t,r){"use strict";var n=r(141),a=r.n(n);t.a=a.a},80:function(e,t,r){"use strict";var n=r(142),a=r.n(n);t.a=a.a},81:function(e,t,r){"use strict";t.a={name:"UserList",data:function(){return{columns:[{type:"index",width:80,align:"center"},{title:"用户名",align:"center",key:"username"},{title:"邮箱",align:"center",key:"email",width:180},{title:"头像",align:"center",render:function(e,t){return e("img",{attrs:{src:"/"+t.row.avatar},class:{avatar:!0}})}},{title:"注册时间",align:"center",key:"create_at",width:150},{title:"用户类型",align:"center",render:function(e,t){var r=void 0;switch(t.row.type){case 1:r="普通用户";break;case 2:r="管理员"}return e("span",r)}},{title:"用户状态",align:"center",render:function(e,t){var r=void 0;switch(t.row.status){case 0:r="正常";break;case-1:r="禁止登录"}return e("span",r)}},{title:"操作",align:"center",fixed:"right",render:function(e,t){var r=void 0;switch(t.row.status){case 0:r=e("Button",{props:{type:"error"}},"禁止登录");break;case-1:r=e("Button",{props:{type:"success"}},"允许登录")}return r}}],data:[{name:"2324"}]}},methods:{getUserList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.axios.get("/admin/user",{page:t}).then(function(t){0===t.data.code&&(e.data=t.data.data,console.log(e.data))})}},mounted:function(){this.getUserList()}}},82:function(e,t,r){"use strict";var n=r(143),a=r.n(n);t.a=a.a},83:function(e,t,r){"use strict";var n=r(80),a=r(82);t.a={Add:n.a,List:a.a}},84:function(e,t,r){"use strict";var n=r(83);t.a={User:n.a}},85:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),a=r(55),s=r.n(a),o=r(50),i=r(26),u=r.n(i),c=r(53),l=(r.n(c),r(51)),d=r(54),m=r.n(d);r(52);n.default.use(m.a),n.default.config.productionTip=!1,o.a.beforeEach(function(e,t,r){window.scroll(0,0),u.a.start();var n=l.a.state.userinfo.userinfo;n.token||"/login"===e.path?n.token&&"/login"===e.path?(u.a.done(),r("/")):r():r("/login"),r()}),o.a.afterEach(function(){u.a.done()}),window.vm=new n.default({el:"#app",router:o.a,store:l.a,template:"<App/>",components:{App:s.a}})},86:function(e,t,r){"use strict";var n=r(84),a=r(33);t.a=[{path:"/user",name:"用户管理",icon:"android-person",redirect:"/user/add",component:function(e){e(a.a.Content)},children:[{path:"add",name:"添加用户",icon:"plus-round",component:n.a.User.Add},{path:"list",name:"用户列表",icon:"list",component:n.a.User.List}]}]},87:function(e,t,r){"use strict";var n,a=r(91),s=r.n(a),o=r(90),i=r.n(o),u=r(25),c=r.n(u),l=r(88),d=r(27),m=r.n(d),p={userinfo:c.a.getJSON("userinfo")||{}},f={logout:function(e){var t=e.commit;return new i.a(function(e,r){t(l.a),e()})},update_userinfo:function(e){var t=e.commit;return new i.a(function(e,r){t(l.b),e()})}},v=(n={},s()(n,l.a,function(e){e.userinfo={}}),s()(n,l.b,function(e){e.userinfo=c.a.getJSON("userinfo")||{},m.a.defaults.headers.common.Authorization=e.userinfo.token}),n);t.a={state:p,actions:f,mutations:v}},88:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var n="LOGOUT",a="UPDATE_USERINFO"}},[85]);