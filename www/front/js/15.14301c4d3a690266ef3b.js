webpackJsonp([15],{C9O2:function(e,t,r){"use strict";var n=r("pFYg"),o=r.n(n);!function(e){function t(e){this._obj=e}function r(e){var r=this;new t(e)._each(function(e,t){r[e]=t})}if(void 0===e)throw new Error("Geetest requires browser environment");var n=e.document,a=e.Math,i=n.getElementsByTagName("head")[0];t.prototype={_each:function(e){var t=this._obj;for(var r in t)t.hasOwnProperty(r)&&e(r,t[r]);return this}},r.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var e=this;return c(e.type)?e.fallback_config[e.type]:e.new_captcha?e.fallback_config.fullpage:e.fallback_config.slide},_extend:function(e){var r=this;new t(e)._each(function(e,t){r[e]=t})}};var s=function(e){return"number"==typeof e},c=function(e){return"string"==typeof e},p=function(e){return"boolean"==typeof e},l=function(e){return"object"===(void 0===e?"undefined":o()(e))&&null!==e},u=function(e){return"function"==typeof e},d={},f={},g=function(){return parseInt(1e4*a.random())+(new Date).valueOf()},m=function(e,t){var r=n.createElement("script");r.charset="UTF-8",r.async=!0,r.onerror=function(){t(!0)};var o=!1;r.onload=r.onreadystatechange=function(){o||r.readyState&&"loaded"!==r.readyState&&"complete"!==r.readyState||(o=!0,setTimeout(function(){t(!1)},0))},r.src=e,i.appendChild(r)},A=function(e){return e.replace(/^https?:\/\/|\/$/g,"")},h=function(e){return e=e.replace(/\/+/g,"/"),0!==e.indexOf("/")&&(e="/"+e),e},v=function(e){if(!e)return"";var r="?";return new t(e)._each(function(e,t){(c(t)||s(t)||p(t))&&(r=r+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&")}),"?"===r&&(r=""),r.replace(/&$/,"")},w=function(e,t,r,n){t=A(t);var o=h(r)+v(n);return t&&(o=e+t+o),o},C=function(e,t,r,n,o){!function a(i){var s=w(e,t[i],r,n);m(s,function(e){e?i>=t.length-1?o(!0):a(i+1):o(!1)})}(0)},_=function(t,r,n,o){if(l(n.getLib))return n._extend(n.getLib),void o(n);if(n.offline)return void o(n._get_fallback_config());var a="geetest_"+g();e[a]=function(t){o("success"==t.status?t.data:t.status?n._get_fallback_config():t),e[a]=void 0;try{delete e[a]}catch(e){}},C(n.protocol,t,r,{gt:n.gt,callback:a},function(e){e&&o(n._get_fallback_config())})},b=function(e,t){var r={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof t.onError)throw new Error(r[e]);t.onError(r[e])};(function(){return e.Geetest||n.getElementById("gt_lib")})()&&(f.slide="loaded"),e.initGeetest=function(t,n){var o=new r(t);t.https?o.protocol="https://":t.protocol||(o.protocol=e.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==t.gt&&"3bd38408ae4af923ed36e13819b14d42"!==t.gt||(o.apiserver="yumchina.geetest.com/",o.api_server="yumchina.geetest.com"),l(t.getType)&&o._extend(t.getType),_([o.api_server||o.apiserver],o.typePath,o,function(t){var r=t.type,a=function(){o._extend(t),n(new e.Geetest(o))};d[r]=d[r]||[];var i=f[r]||"init";"init"===i?(f[r]="loading",d[r].push(a),C(o.protocol,t.static_servers||t.domains,t[r]||t.path,null,function(e){if(e)f[r]="fail",b("networkError",o);else{f[r]="loaded";for(var t=d[r],n=0,a=t.length;n<a;n+=1){var i=t[n];u(i)&&i()}d[r]=[]}})):"loaded"===i?a():"fail"===i?b("networkError",o):"loading"===i&&d[r].push(a)})}}(window)},FGk3:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",[r("Form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.rules}},[r("FormItem",{staticClass:"form-item",attrs:{prop:"username"}},[r("Input",{attrs:{placeholder:"用户名或邮箱"},model:{value:e.loginForm.username,callback:function(t){e.loginForm.username=t},expression:"loginForm.username"}}),e._v(" "),r("transition",{attrs:{name:"slide-fade"}},[e.usernameError?r("div",{staticClass:"hint"},[e._v(e._s(e.usernameError))]):e._e()])],1),e._v(" "),r("FormItem",{staticClass:"form-item",attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.loginForm.password=t},expression:"loginForm.password"}}),e._v(" "),r("transition",{attrs:{name:"slide-fade"}},[e.passwordError?r("div",{staticClass:"hint"},[e._v(e._s(e.passwordError))]):e._e()])],1),e._v(" "),r("FormItem",[r("div",{attrs:{id:"captcha"}},[e.captchaStatus?[e._v("\n                    验证码加载中...\n                ")]:e._e()],2)]),e._v(" "),r("FormItem",{staticClass:"form-item"},[r("Button",{staticClass:"login-btn",attrs:{type:"primary",long:""},on:{click:e.login}},[e._v("登录")])],1)],1)],1)},o=[],a={render:n,staticRenderFns:o};t.a=a},JL5L:function(e,t,r){t=e.exports=r("FZ+f")(!0),t.push([e.i,".sign-wrapper #captcha{margin-top:20px}.sign-wrapper .form-item{position:relative;margin-bottom:0}.sign-wrapper .form-item input{font-size:1.4rem;height:40px;border-radius:0;border-color:#dddee1!important}.sign-wrapper .form-item input:focus,.sign-wrapper .form-item input:hover{-webkit-box-shadow:none!important;box-shadow:none!important;border-color:#dddee1}.sign-wrapper .form-item+.form-item input{border-top:0}.sign-wrapper .form-item .hint{position:absolute;right:1px;top:1px;bottom:1px;padding:0 10px;color:#ed3f14;line-height:40px;font-size:1.4rem;background:linear-gradient(90deg,hsla(0,0%,100%,0),#fff 8px)}.sign-wrapper .form-item .login-btn{height:35px}.sign-wrapper .ivu-form-item-error-tip{display:none}","",{version:3,sources:["/Users/blue/Documents/personal/blog/web/front/src/components/Sign/Login/Login.vue"],names:[],mappings:"AACA,uBACE,eAAiB,CAClB,AACD,yBACE,kBAAmB,AACnB,eAAiB,CAClB,AACD,+BACE,iBAAkB,AAClB,YAAa,AACb,gBAAiB,AACjB,8BAAiC,CAClC,AACD,0EAEE,kCAAoC,AAC5B,0BAA4B,AACpC,oBAAsB,CACvB,AACD,0CACE,YAAc,CACf,AACD,+BACE,kBAAmB,AACnB,UAAW,AACX,QAAS,AACT,WAAY,AACZ,eAAgB,AAChB,cAAe,AACf,iBAAkB,AAClB,iBAAkB,AAClB,4DAAwE,CACzE,AACD,oCACE,WAAa,CACd,AACD,uCACE,YAAc,CACf",file:"Login.vue",sourcesContent:["\n.sign-wrapper #captcha {\n  margin-top: 20px;\n}\n.sign-wrapper .form-item {\n  position: relative;\n  margin-bottom: 0;\n}\n.sign-wrapper .form-item input {\n  font-size: 1.4rem;\n  height: 40px;\n  border-radius: 0;\n  border-color: #dddee1 !important;\n}\n.sign-wrapper .form-item input:focus,\n.sign-wrapper .form-item input:hover {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n  border-color: #dddee1;\n}\n.sign-wrapper .form-item + .form-item input {\n  border-top: 0;\n}\n.sign-wrapper .form-item .hint {\n  position: absolute;\n  right: 1px;\n  top: 1px;\n  bottom: 1px;\n  padding: 0 10px;\n  color: #ed3f14;\n  line-height: 40px;\n  font-size: 1.4rem;\n  background: linear-gradient(to right, rgba(255, 255, 255, 0), #fff 8px);\n}\n.sign-wrapper .form-item .login-btn {\n  height: 35px;\n}\n.sign-wrapper .ivu-form-item-error-tip {\n  display: none;\n}\n"],sourceRoot:""}])},OVI6:function(e,t,r){"use strict";r("C9O2");t.a={name:"Login",data:function(){var e=this;return{loginForm:{username:"",password:""},rules:{username:{validator:function(t,r,n){""===r?(e.usernameError="用户名或邮箱不能为空",n(new Error)):(e.usernameError="",n())},trigger:"blur"},password:{validator:function(t,r,n){""===r?(e.passwordError="密码不能为空",n(new Error)):(e.passwordError="",n())},trigger:"blur"}},usernameError:"",passwordError:"",captchaStatus:!0,captcha:{}}},methods:{getCaptchas:function(){var e=this;this.axios.get("/captchas/new").then(function(t){initGeetest({gt:t.data.data.gt,challenge:t.data.data.challenge,offline:!t.data.data.success,new_captcha:t.data.data.new_captcha,product:"float"},function(t){e.captcha=t,t.appendTo("#captcha"),t.onReady(function(){e.captchaStatus=!1})})})},login:function(){var e=this;this.$refs.loginForm.validate(function(t){if(t){var r=e.captcha.getValidate();r?e.axios.post("/login",{geetest_challenge:r.geetest_challenge,geetest_validate:r.geetest_validate,geetest_seccode:r.geetest_seccode,username:e.loginForm.username,password:e.loginForm.password}).then(function(t){0===t.data.code?(e.$Message.success(t.data.msg),e.$store.dispatch("update_userinfo",t.data.data),e.$router.push("/")):(2e3===t.data.code?e.usernameError=t.data.msg:2001===t.data.code?e.passwordError=t.data.msg:e.$Message.error(t.data.msg),e.captcha.reset())}):e.$Message.error("验证码错误")}})}},mounted:function(){this.getCaptchas()}}},miib:function(e,t,r){"use strict";function n(e){r("tkGf")}Object.defineProperty(t,"__esModule",{value:!0});var o=r("OVI6"),a=r("FGk3"),i=r("VU/8"),s=n,c=i(o.a,a.a,s,null,null);t.default=c.exports},tkGf:function(e,t,r){var n=r("JL5L");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("5901cf06",n,!0)}});
//# sourceMappingURL=15.14301c4d3a690266ef3b.js.map