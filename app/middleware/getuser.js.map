{
    "version": 3,
    "sources": [
        "../../src/middleware/getUser.js"
    ],
    "names": [
        "module",
        "exports",
        "options",
        "app",
        "ctx",
        "next",
        "token",
        "headers",
        "authorization",
        "userService",
        "service",
        "user",
        "getUserByToken"
    ],
    "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB,CAACC,OAAD,EAAUC,GAAV,KAAkB;AAC/B;AAAA,qCAAO,WAAOC,GAAP,EAAYC,IAAZ,EAAqB;AACxB,gBAAIC,QAAQF,IAAIG,OAAJ,CAAYC,aAAxB;AACA,gBAAIF,UAAU,WAAV,IAAyBA,KAA7B,EAAoC;AAChC,oBAAIG,cAAcL,IAAIM,OAAJ,CAAY,MAAZ,CAAlB;AACA,oBAAIC,OAAO,MAAMF,YAAYG,cAAZ,CAA2BN,KAA3B,CAAjB;AACAF,oBAAIO,IAAJ,GAAWA,IAAX;AACH;AACD,mBAAON,MAAP;AACH,SARD;;AAAA;AAAA;AAAA;AAAA;AASH,CAVD",
    "file": "../../src/middleware/getUser.js",
    "sourcesContent": [
        "module.exports = (options, app) => {\n    return async (ctx, next) => {\n        let token = ctx.headers.authorization;\n        if (token !== 'undefined' && token) {\n            let userService = ctx.service('user');\n            let user = await userService.getUserByToken(token);\n            ctx.user = user;\n        }\n        return next();\n    };\n};\n"
    ]
}